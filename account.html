<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha Conta - Damas Brasileiras</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="auth-page-bg"> 
    <div class="page-container" style="max-width: 600px;"> 
        <header class="page-header">
            <a href="index.html" class="back-to-game-link">
                <span class="material-symbols-outlined">arrow_back</span> Voltar ao Jogo
            </a>
            <h1>Minha Conta</h1>
        </header>
        <main class="page-content">
            <div id="account-details-loading" class="text-center text-theme-text-secondary my-8">
                <p>Carregando informações da conta...</p>
                 <div class="spinner"></div>
            </div>

            <div id="account-details-content" class="hidden"> 
                <div class="text-center mb-6">
                    <img id="userProfilePicLarge" src="https://placehold.co/128x128/424242/E8EAED?text=?" alt="Foto de perfil" class="profile-picture-large-account rounded-full mx-auto object-cover">
                    <label for="changeProfilePicInput" class="mt-3 inline-block text-sm font-medium text-theme-accent hover:text-theme-accent-hover cursor-pointer">
                        <span class="material-symbols-outlined" style="font-size: 1em; vertical-align: middle;">photo_camera</span> Alterar Foto
                    </label>
                    <input type="file" id="changeProfilePicInput" class="sr-only" accept="image/png, image/jpeg, image/gif">
                    <p id="uploadStatus" class="text-xs text-theme-text-secondary mt-1"></p>
                </div>

                <dl class="space-y-3">
                    <div class="detail-item-account">
                        <dt>Nome de Exibição:</dt>
                        <dd id="userNameDisplayAccount">[Carregando...]</dd>
                    </div>
                    <div class="detail-item-account">
                        <dt>Email:</dt>
                        <dd id="userEmailDisplayAccount">[Carregando...]</dd>
                    </div>
                    <div class="detail-item-account">
                        <dt>ID de Usuário (UID):</dt>
                        <dd id="userUidDisplayAccount" class="user-id-tag-account">[Carregando...]</dd>
                    </div>
                </dl>
            
                <div id="account-actions" class="mt-6">
                     <div class="input-group-auth">
                        <label for="update-displayName">Alterar Nome de Exibição:</label>
                        <input type="text" id="update-displayName" placeholder="Seu novo nome">
                    </div>
                    <button id="saveAccountChangesBtn" class="btn btn-primary w-full mt-2">Salvar Nome</button>
                    <hr class="sidebar-divider my-6">
                    <button id="changePasswordBtn" class="btn btn-secondary w-full">Alterar Senha (enviar email)</button>
                </div>
            </div>
            
            <div id="account-not-logged-in" class="text-center hidden">
                <p class="text-theme-text-secondary my-8">Você precisa estar logado para ver esta página.</p>
                <a href="login.html" class="btn btn-primary">Fazer Login</a>
            </div>
        </main>
    </div>
    <div id="messageBoxContainer"></div>

    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/ui.js"></script> 
    <script type="module" src="js/account-page.js"></script> 
</body>
</html>
